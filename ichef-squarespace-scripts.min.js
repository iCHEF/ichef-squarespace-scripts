/*!
 * ichef-squarespace-scripts v1.0.0
 * UNLICENSED Licensed
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.ichefWebsite=e():t.ichefWebsite=e()}(this,function(){return function(t){function e(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return t[r].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){t.exports=n(1)},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),u=a.value}catch(c){return void n(c)}return a.done?void t(u):Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)})}return r("next")})}}var i=n(2),a=r(i),u=n(6),c=r(u),s=n(9),f=r(s),l=n(11),h=r(l),p=n(12),d=n(14);!function(){function t(){return e.apply(this,arguments)}var e=o(a.default.mark(function t(){var e,n,r,o,i,u;return a.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,(0,f.default)(),t.next=4,(0,c.default)();case 4:if(t.t0=t.sent,t.t0){t.next=7;break}t.t0={};case 7:e=t.t0,n=e.headerLogo,r=e.companyInfo,o=e.socialLinks,i=e.currentLocale,u=e.seo,n&&(0,h.default)(n),r&&(0,p.updateFooterCompanyInfo)(r),o&&(0,p.updateFooterSocialLinks)(o),i&&(0,p.updateFooterCurrentLocale)(i),u&&(u.gtm&&(0,d.applyGTM)(u.gtm),u.pixel&&(0,d.applyFacebookPixel)(u.pixel),u.zendesk&&(0,d.applyZendeskChat)(u.zendesk)),t.next=22;break;case 20:t.prev=20,t.t1=t.catch(0);case 22:case"end":return t.stop()}},t,this,[[0,20]])}));return t}()()},function(t,e,n){t.exports=n(3)},function(t,e,n){(function(e){var r="object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this,o=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,i=o&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(4),o)r.regeneratorRuntime=i;else try{delete r.regeneratorRuntime}catch(a){r.regeneratorRuntime=void 0}}).call(e,function(){return this}())},function(t,e,n){(function(e,n){!function(e){"use strict";function r(t,e,n,r){var o=Object.create((e||i).prototype),a=new d(r||[]);return o._invoke=l(t,n,a),o}function o(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(r){return{type:"throw",arg:r}}}function i(){}function a(){}function u(){}function c(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function s(t){this.arg=t}function f(t){function e(n,r,i,a){var u=o(t[n],t,r);if("throw"!==u.type){var c=u.arg,f=c.value;return f instanceof s?Promise.resolve(f.arg).then(function(t){e("next",t,i,a)},function(t){e("throw",t,i,a)}):Promise.resolve(f).then(function(t){c.value=t,i(c)},a)}a(u.arg)}function r(t,n){function r(){return new Promise(function(r,o){e(t,n,r,o)})}return i=i?i.then(r,r):r()}"object"==typeof n&&n.domain&&(e=n.domain.bind(e));var i;this._invoke=r}function l(t,e,n){var r=E;return function(i,a){if(r===j)throw new Error("Generator is already running");if(r===T){if("throw"===i)throw a;return y()}for(;;){var u=n.delegate;if(u){if("return"===i||"throw"===i&&u.iterator[i]===m){n.delegate=null;var c=u.iterator.return;if(c){var s=o(c,u.iterator,a);if("throw"===s.type){i="throw",a=s.arg;continue}}if("return"===i)continue}var s=o(u.iterator[i],u.iterator,a);if("throw"===s.type){n.delegate=null,i="throw",a=s.arg;continue}i="next",a=m;var f=s.arg;if(!f.done)return r=k,f;n[u.resultName]=f.value,n.next=u.nextLoc,n.delegate=null}if("next"===i)n.sent=n._sent=a;else if("throw"===i){if(r===E)throw r=T,a;n.dispatchException(a)&&(i="next",a=m)}else"return"===i&&n.abrupt("return",a);r=j;var s=o(t,e,n);if("normal"===s.type){r=n.done?T:k;var f={value:s.arg,done:n.done};if(s.arg!==N)return f;n.delegate&&"next"===i&&(a=m)}else"throw"===s.type&&(r=T,i="throw",a=s.arg)}}}function h(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function p(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(h,this),this.reset(!0)}function v(t){if(t){var e=t[L];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(w.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=m,e.done=!0,e};return r.next=r}}return{next:y}}function y(){return{value:m,done:!0}}var m,w=Object.prototype.hasOwnProperty,g="function"==typeof Symbol?Symbol:{},L=g.iterator||"@@iterator",x=g.toStringTag||"@@toStringTag",b="object"==typeof t,_=e.regeneratorRuntime;if(_)return void(b&&(t.exports=_));_=e.regeneratorRuntime=b?t.exports:{},_.wrap=r;var E="suspendedStart",k="suspendedYield",j="executing",T="completed",N={},O=u.prototype=i.prototype;a.prototype=O.constructor=u,u.constructor=a,u[x]=a.displayName="GeneratorFunction",_.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===a||"GeneratorFunction"===(e.displayName||e.name))},_.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,u):(t.__proto__=u,x in t||(t[x]="GeneratorFunction")),t.prototype=Object.create(O),t},_.awrap=function(t){return new s(t)},c(f.prototype),_.async=function(t,e,n,o){var i=new f(r(t,e,n,o));return _.isGeneratorFunction(e)?i:i.next().then(function(t){return t.done?t.value:i.next()})},c(O),O[L]=function(){return this},O[x]="Generator",O.toString=function(){return"[object Generator]"},_.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},_.values=v,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.tryEntries.forEach(p),!t)for(var e in this)"t"===e.charAt(0)&&w.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return i.type="throw",i.arg=t,n.next=e,!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var o=this.tryEntries[r],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var a=w.call(o,"catchLoc"),u=w.call(o,"finallyLoc");if(a&&u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&w.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var i=o?o.completion:{};return i.type=t,i.arg=e,o?this.next=o.finallyLoc:this.complete(i),N},complete:function(t,e){if("throw"===t.type)throw t.arg;"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=t.arg,this.next="end"):"normal"===t.type&&e&&(this.next=e)},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),p(n),N}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;p(n)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:v(t),resultName:e,nextLoc:n},N}}}("object"==typeof e?e:"object"==typeof window?window:"object"==typeof self?self:this)}).call(e,function(){return this}(),n(5))},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function i(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function a(){v&&p&&(v=!1,p.length?d=p.concat(d):y=-1,d.length&&u())}function u(){if(!v){var t=o(a);v=!0;for(var e=d.length;e;){for(p=d,d=[];++y<e;)p&&p[y].run();y=-1,e=d.length}p=null,v=!1,i(t)}}function c(t,e){this.fun=t,this.array=e}function s(){}var f,l,h=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:n}catch(t){f=n}try{l="function"==typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var p,d=[],v=!1,y=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new c(t,e)),1!==d.length||v||o(u)},c.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=s,h.addListener=s,h.once=s,h.off=s,h.removeListener=s,h.removeAllListeners=s,h.emit=s,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";function r(t){var e=t.split(/[\/\/]/),n=e[1];return a.ALL_LOCALES.indexOf(n)<0?a.DEFAULT_LOCALE+"/website":"event"===n?"event/"+e[2]:"blog"===e[2]?n+"/blog":n+"/website"}function o(){var t=r(window.location.pathname);return(0,i.ajax)(a.LOCALE_HOST+"/"+t+".json")}e.__esModule=!0;var i=n(7),a=n(8);e.default=o},function(t,e){"use strict";e.__esModule=!0;var n=window.jQuery||window.$;if(!n)throw new Error("Please include jquery dependencies!");e.ajax=n.ajax;e.default=n},function(t,e){t.exports={LOCALE_HOST:"//ichef.github.io/ichef-squarespace-scripts/locale_data",DEFAULT_LOCALE:"en-us",ALL_LOCALES:["zh-tw","zh-hk","en-us","en-my","en-sg","en-ph","ja-jp","th-th","event","language"],COUNTRY_LOCALES:{tw:"zh-tw",hk:"zh-hk",us:"en-us",my:"en-my",sg:"en-sg",ph:"en-ph",jp:"ja-jp",th:"th-th"}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),u=a.value}catch(c){return void n(c)}return a.done?void t(u):Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)})}return r("next")})}}function i(t){return!(l.ALL_LOCALES.indexOf(t)<0)}e.__esModule=!0;var a=n(2),u=r(a),c=function(){var t=o(u.default.mark(function t(){var e;return u.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if("/"!==window.location.pathname){t.next=8;break}return t.next=3,(0,f.default)();case 3:if(t.t0=t.sent,t.t0){t.next=6;break}t.t0=l.DEFAULT_LOCALE;case 6:e=t.t0,i(e)&&e!==l.DEFAULT_LOCALE&&window.location.replace("/"+e);case 8:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}(),s=n(10),f=r(s),l=n(8);e.default=c},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(o,i){try{var a=e[o](i),u=a.value}catch(c){return void n(c)}return a.done?void t(u):Promise.resolve(u).then(function(t){r("next",t)},function(t){r("throw",t)})}return r("next")})}}function i(){return window.navigator?window.navigator.language.toLocaleLowerCase():null}function a(){return(0,f.ajax)("//ipinfo.io/json")}e.__esModule=!0;var u=n(2),c=r(u),s=function(){var t=o(c.default.mark(function t(){var e,n,r;return c.default.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a();case 3:return e=t.sent,n=e.country.toLowerCase(),t.abrupt("return",l.COUNTRY_LOCALES[n]);case 8:return t.prev=8,t.t0=t.catch(0),r=i(),t.abrupt("return",r);case 12:case"end":return t.stop()}},t,this,[[0,8]])}));return function(){return t.apply(this,arguments)}}(),f=n(7),l=n(8);e.default=s},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){if(t.image&&t.link){var e=(0,a.default)('#header h1[data-content-field="site-title"] img'),n=(0,a.default)('#header h1[data-content-field="site-title"] a');e.attr("src",t.image),n.attr("href",t.link)}}e.__esModule=!0;var i=n(7),a=r(i);e.default=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function o(t){(0,s.default)("#footerBlocks h3").each(function(e,n){var r=n.nextSibling||n,o=t[e];o?r.innerHTML=o:console.warn("Cannot apply info for "+r)})}function i(t){var e=(0,s.default)("#footerBlocks .socialaccountlinks-v2-block nav");Object.keys(t).forEach(function(n){var r=t[n],o=(0,s.default)("a."+n,e);o.attr("href",r)})}function a(t){if(t.name&&t.image){var e=(0,s.default)('#footerBlocks a[href="/language"]');e.each(function(e,n){switch(e){case 0:(0,s.default)(n).html('<img src="'+t.image+'" />');break;case 1:(0,s.default)(n).html(t.name)}})}}function u(t){var e=(0,s.default)("#footer #secondaryNav ul"),n=new l.default(t).result();e.html(n)}e.__esModule=!0,e.updateFooterCompanyInfo=o,e.updateFooterSocialLinks=i,e.updateFooterCurrentLocale=a,e.updateFooterNav=u;var c=n(7),s=r(c),f=n(13),l=r(f)},function(t,e){"use strict";function n(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}e.__esModule=!0;var r=function(){function t(e){var r=this;n(this,t),this.getNavItemClassName=function(t){switch(t){case"index":return"index-collection";case"page":return"page-collection";case"folders":return"folders-collection folder";case"external":return"external-link";default:return console.warn("Get unknown nav item type: "+t),""}},this.newNormalNavItemElement=function(t){var e="external"===t.type?"_blank":"_self",n=r.getNavItemClassName(t.type);return'\n            <li class="'+n+'">\n                <a href="'+t.link+'" target="'+e+'">\n                    <span>'+t.name+"</span>\n                </a>\n            </li>\n        "},this.newFoldersNavItemElement=function(t){var e=r.getNavItemClassName(t.type),n=(""+Math.random()).substring(2),o="folder-toggle-"+n,i=t.links.map(function(t){return'\n            <li>\n                <a href="'+t.link+'">\n                    <span>'+t.name+"</span>\n                </a>\n            </li>\n        "});return'\n            <li class="'+e+'">\n                <div class="folder-parent">\n                    <input\n                        type="checkbox"\n                        class="folder-toggle-box hidden"\n                        name="'+o+'"\n                        id="'+o+'" />\n                    <label for="'+o+'" class="folder-toggle-label">\n                        <a aria-haspopup="true">\n                            <span>'+t.name+'</span>\n                        </a>\n                    </label>\n                    <div class="folder-child-wrapper">\n                        <ul class="folder-child">\n                            '+i.join("")+"\n                        </ul>\n                    </div>\n                </div>\n            </li>\n        "},this.navList=e,this.result=this.result.bind(this)}return t.prototype.result=function(){var t=this,e=this.navList.map(function(e){switch(e.type){case"folders":return t.newFoldersNavItemElement(e);default:return t.newNormalNavItemElement(e)}});return e.join("")},t}();e.default=r},function(t,e){"use strict";function n(t){!function(t,e,n,r,o){t[r]=t[r]||[],t[r].push({"gtm.start":(new Date).getTime(),event:"gtm.js"});var i=e.getElementsByTagName(n)[0],a=e.createElement(n),u="dataLayer"!=r?"&l="+r:"";a.async=!0,a.src="//www.googletagmanager.com/gtm.js?id="+o+u,i.parentNode.insertBefore(a,i)}(window,document,"script","dataLayer",t)}function r(t){return"string"==typeof t?n(t):t.forEach(function(t){n(t)})}function o(t){!function(t,e,n,r,o,i,a){t.fbq||(o=t.fbq=function(){o.callMethod?o.callMethod.apply(o,arguments):o.queue.push(arguments)},t._fbq||(t._fbq=o),o.push=o,o.loaded=!0,o.version="2.0",o.queue=[],i=e.createElement(n),i.async=!0,i.src=r,a=e.getElementsByTagName(n)[0],a.parentNode.insertBefore(i,a))}(window,document,"script","https://connect.facebook.net/en_US/fbevents.js"),fbq("init",t),fbq("track","PageView")}function i(t){!function(e,n){var r=window.$zopim=function(t){r._.push(t)},o=r.s=e.createElement(n),i=e.getElementsByTagName(n)[0];r.set=function(t){r.set._.push(t)},r._=[],r.set._=[],o.async=!0,o.setAttribute("charset","utf-8"),o.src="//v2.zopim.com/?"+t,r.t=+new Date,o.type="text/javascript",i.parentNode.insertBefore(o,i)}(document,"script")}e.__esModule=!0,e.applyGTM=r,e.applyFacebookPixel=o,e.applyZendeskChat=i}])});
//# sourceMappingURL=ichef-squarespace-scripts.min.js.map